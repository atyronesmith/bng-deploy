# Example DHCP and Forward & Reverse DNS configuration
#clusterName = ocp46
#baseDomain = pool4.com

# Don't use /etc/resolv.conf
no-resolv

# Don't use /etc/hosts
no-hosts

# Recursive DNS
server=10.11.5.19 
#server=8.8.4.4

# Set local domain
domain=ocp46.pool4.com

# using specific NTP servers
#dhcp-option=option:ntp-server,198.255.68.106,18.222.40.121

# OCP4 PXE BOOT Lab
### dnsmasq configurations
# disable DNS /etc/dnsmasq.conf set port=0
#
# Disable DHCP for eno2
no-dhcp-interface=eno2
# Enable DHCP for interface br-ctlplane
interface=br-ctlplane



#### DHCP (dnsmasq --help dhcp)
dhcp-range=172.16.61.41,172.16.61.200,24h
dhcp-option=option:netmask,255.255.255.0
dhcp-option=option:router,172.16.61.254
dhcp-option=option:dns-server,172.16.61.40
dhcp-option=option:ntp-server,172.16.61.254


#### PXE
#enable-tftp
#tftp-root=/var/lib/tftpboot,br-ctlplane
#dhcp-boot=pxelinux.0

# External API endpoint (External VIP)
address=/api.ocp46.pool4.com/10.1.196.40
ptr-record=40.196.1.10.in-addr.arpa,api.ocp46.pool4.com

# Internal API endpoint (Internal VIP)
address=/api-int.ocp46.pool4.com/172.16.61.40
ptr-record=40.61.16.172.in-addr.arpa,api-int.ocp46.pool4.com

# wildcard domain *.apps.<clusterName>.<baseDomain> (External VIP)
address=/.apps.ocp46.pool4.com/10.1.196.40

# etcd SRV records
srv-host=_etcd-server-ssl._tcp,etcd-0.ocp46.pool4.com,2380
srv-host=_etcd-server-ssl._tcp,etcd-1.ocp46.pool4.com,2380
srv-host=_etcd-server-ssl._tcp,etcd-2.ocp46.pool4.com,2380

# For Registry used to access mirror
address=/registry.pool4.com/172.16.61.40
ptr-record=40.61.16.172.in-addr.arpa,registry.pool4.com

# Bootstrap
# We are using worker0 server instead of using a VM for Bootstrap
# Uncomment and use initially until Masters are up. After that comment this and uncomment worker0 
#dhcp-host=e4:43:4b:4e:40:34,172.16.61.144,bootstrap.ocp46.pool4.com
#address=/bootstrap.ocp46.pool4.com/192.168.198.106
#ptr-record=144.198.168.192.in-addr.arpa,bootstrap.ocp46.pool4.com

# Master-0 / etcd-0
dhcp-host=3c:fd:fe:78:b4:00,172.16.61.41,master0.ocp46.pool4.com
address=/master0.ocp46.pool4.com/172.16.61.41
ptr-record=41.61.16.172.in-addr.arpa,master0.ocp46.pool4.com
address=/etcd-0.ocp46.pool4.com/172.16.61.41

# Master-1 / etcd-1
dhcp-host=3c:fd:fe:78:b4:01,172.16.61.42,master1.ocp46.pool4.com
address=/master1.ocp46.pool4.com/172.16.61.42
ptr-record=42.61.16.172.in-addr.arpa,master1.ocp46.pool4.com
address=/etcd-1.ocp46.pool4.com/172.16.61.42

# Master-2 / etcd-2
dhcp-host=3c:fd:fe:78:b4:02,172.16.61.43,master2.ocp46.pool4.com
address=/master2.ocp46.pool4.com/172.16.61.43
ptr-record=43.61.16.172.in-addr.arpa,master2.ocp46.pool4.com
address=/etcd-2.ocp46.pool4.com/172.16.61.43

# Worker-0
# We are using worker0 server instead of using a VM for Bootstrap
# Comment initially until Masters are up. After that uncomment this and comment bootstrap section
dhcp-host=3c:fd:fe:78:af:c1,172.16.61.44,worker0.ocp46.pool4.com
address=/worker0.ocp46.pool4.com/172.16.61.44
ptr-record=44.61.16.172.in-addr.arpa,worker0.ocp46.pool4.com

# Worker-1
# We are using worker0 server instead of using a VM for Bootstrap
# Comment initially until Masters are up. After that uncomment this and comment bootstrap section
dhcp-host=3c:fd:fe:78:af:31,172.16.61.44,worker0.ocp46.pool4.com
address=/worker1.ocp46.pool4.com/172.16.61.44
ptr-record=44.61.16.172.in-addr.arpa,worker0.ocp46.pool4.com

# Worker-2
# We are using worker0 server instead of using a VM for Bootstrap
# Comment initially until Masters are up. After that uncomment this and comment bootstrap section
dhcp-host=e4:43:4b:4e:40:34,172.16.61.44,worker0.ocp46.pool4.com
address=/worker0.ocp46.pool4.com/172.16.61.44
ptr-record=44.61.16.172.in-addr.arpa,worker2.ocp46.pool4.com

# Worker-3
dhcp-host=e4:43:4b:4e:3b:d4,172.16.61.45,worker1.ocp46.pool4.com
address=/worker1.ocp46.pool4.com/172.16.61.45
ptr-record=45.61.16.172.in-addr.arpa,worker3.ocp46.pool4.com

# Storage-0 (virtual)
dhcp-host=e4:43:4b:5e:81:03,172.16.61.146,worker0.ocp46.pool4.com
address=/storage0.ocp46.pool4.com/172.16.61.14
ptr-record=146.61.16.172.in-addr.arpa,worker0.ocp46.pool4.com

# Storage-1 (virtual)
dhcp-host=e4:43:4b:5e:81:04,172.16.61.147,worker1.ocp46.pool4.com
address=/storage1.ocp46.pool4.com/172.16.61.147
ptr-record=147.61.16.172.in-addr.arpa,worker1.ocp46.pool4.com

# Storage-2 (virtual)
dhcp-host=e4:43:4b:5e:81:05,172.16.61.148,worker2.ocp46.pool4.com
address=/storage2.ocp46.pool4.com/172.16.61.148
ptr-record=148.61.16.172.in-addr.arpa,worker2.ocp46.pool4.com

#
# END OF FILE
#
